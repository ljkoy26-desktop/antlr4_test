########################################################################################################################
Grammer íŒŒì¼ ìƒì„± ë° JAVA Jar ë³€í™˜
########################################################################################################################


# 1 , 2 ë²ˆì€ ì˜ˆë¬¸ì…ë‹ˆë‹¤. 3ë²ˆë¶€í„° ë´ë„ ë¬´ë°©í•©ë‹ˆë‹¤. 

# 1. ë¬¸ë²• íŒŒì¼ ì‘ì„± 

# ë©”ëª¨ì¥ì´ë‚˜ VS Codeë¡œ Expr.g4 (ì˜ˆì‹œ) íŒŒì¼ì„ ë§Œë“­ë‹ˆë‹¤. (ì´ì „ì— ì‚¬ì¹™ì—°ì‚° ì˜ˆì œ ë“œë¦° ê²ƒ ê¸°ì–µë‚˜ì‹œì£ ?)
# ì´ íŒŒì¼ì„ ì‘ì—… í´ë”(ì˜ˆ: C:\MyProject\Grammar\)ì— ì €ì¥í•©ë‹ˆë‹¤.



ì±— GPT ì˜ˆì œ ( ì°¸ê³ ë§Œ í•˜ì„¸ìš” ) 

Expr.g4 ì„ ìƒì„±í•˜ì—¬ ëª…ë ¹ì–´ ì‹¤í–‰ 

grammar Expr;  // ì¤‘ìš”: ì´ ì´ë¦„(Expr)ê³¼ íŒŒì¼ëª…(Expr.g4)ì´ ê°™ì•„ì•¼ í•©ë‹ˆë‹¤!

// íŒŒì„œ ê·œì¹™ (ë¬¸ë²• êµ¬ì¡°)
prog:   expr EOF ;

expr:   expr ('*'|'/') expr     # MulDiv
    |   expr ('+'|'-') expr     # AddSub
    |   INT                     # Int
    |   '(' expr ')'            # Parens
    ;

// ë ‰ì„œ ê·œì¹™ (í† í° ì •ì˜)
INT :   [0-9]+ ;
WS  :   [ \t\r\n]+ -> skip ; // ê³µë°± ë¬´ì‹œ





# 2.  ë°˜í™˜ ëª…ë ¹ì–´ ì‹¤í–‰ (í…ŒìŠ¤íŠ¸ êµ¬ë¬¸)
java -jar H:\Source\GithubDesktop\antlr4_test\Grammer\antlr-4.13.2-complete.jar -Dlanguage=Cpp -package antlrcpptest -no-listener -visitor -o Generated Expr.g4


- Dlanguage=Cpp: ì´ê±° ë¹¼ë¨¹ìœ¼ë©´ Java ì½”ë“œê°€ ìƒì„±ë©ë‹ˆë‹¤. í•„ìˆ˜!
- visitor: Visitor íŒ¨í„´ ì½”ë“œë¥¼ ë§Œë“­ë‹ˆë‹¤ (ë°ì´í„° ì²˜ë¦¬ì— ìœ ìš©).
-o Generated: ê²°ê³¼ë¬¼ì„ Generatedë¼ëŠ” í•˜ìœ„ í´ë”ì— ê¹”ë”í•˜ê²Œ ëª¨ì•„ì¤ë‹ˆë‹¤.


ëª…ë ¹ì–´ê°€ ì„±ê³µí•˜ë©´ Generated í´ë” ì•ˆì— ì•„ë˜ íŒŒì¼ë“¤ì´ ìƒê¹ë‹ˆë‹¤.

ExprLexer.h, ExprLexer.cpp (ë‹¨ì–´ ìª¼ê°œëŠ” ë†ˆ)
ExprParser.h, ExprParser.cpp (êµ¬ì¡° ë§ì¶”ëŠ” ë†ˆ)
ExprVisitor.h, ExprBaseVisitor.h, ... (ê²°ê³¼ ì²˜ë¦¬í•˜ëŠ” ë†ˆ)


# 3. grammer.f4 íŒŒì¼ ë‹¤ìš´ë¡œë“œ 


Lexerì™€ Parser ë‘˜ ë‹¤ í•„ìš”í•©ë‹ˆë‹¤: 
ëŒ€ë¶€ë¶„ì˜ SQL ë¬¸ë²•ì€ íŒŒì¼ì´ ë‘ ê°œ(xxxLexer.g4, xxxParser.g4)ë¡œ ë‚˜ë‰˜ì–´ ìˆìŠµë‹ˆë‹¤.
 í•˜ë‚˜ë§Œ ìˆìœ¼ë©´ ì•ˆ ë˜ë‹ˆ ê¼­ ë‘ íŒŒì¼ ëª¨ë‘ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.




Oracle (PL/SQL) ğŸ‘‰ https://github.com/antlr/grammars-v4/tree/master/sql/plsql

ë‹¤ìš´ë¡œë“œ ëŒ€ìƒ: PlSqlLexer.g4, PlSqlParser.g4 (ë‘˜ ë‹¤ ë°›ìœ¼ì„¸ìš”)

MS SQL Server (T-SQL) ğŸ‘‰ https://github.com/antlr/grammars-v4/tree/master/sql/tsql

ë‹¤ìš´ë¡œë“œ ëŒ€ìƒ: TSqlLexer.g4, TSqlParser.g4

MySQL ğŸ‘‰ https://github.com/antlr/grammars-v4/tree/master/sql/mysql


ì£¼ì˜: ì´ í´ë” ì•ˆì— ë“¤ì–´ê°€ë©´ Oracle ë²„ì „ê³¼ Positive-Technologies ë²„ì „ í´ë”ê°€ ë˜ ìˆìŠµë‹ˆë‹¤. ë³´í†µ Oracle í´ë” ì•ˆì— ìˆëŠ” ê²ƒì´ ê³µì‹ì— ê°€ê¹ìŠµë‹ˆë‹¤.

https://github.com/antlr/grammars-v4/tree/master/sql/mysql/Oracle


PostgreSQL ğŸ‘‰ https://github.com/antlr/grammars-v4/tree/master/sql/postgresql

ë‹¤ìš´ë¡œë“œ ëŒ€ìƒ: PostgreSQLLexer.g4, PostgreSQLParser.g4




 
# 4. grammer.g4 íŒŒì¼ì„ ì´ìš©í•œ ë¹Œë“œ 



DB ì¢…ë¥˜,ì§€ì› ì—¬ë¶€,ì‚¬ìš©í•  íŒŒì¼ (.g4),ì„¤ëª…

Oracle,     âœ… ì™„ë²½,    plsql,ê°€ì¥ í™œë°œíˆ ê´€ë¦¬ë¨. ê±°ì˜ ì™„ë²½ ì§€ì›.
SQL Server, âœ… ì™„ë²½,    tsql,Microsoft T-SQL ë¬¸ë²•. ë§¤ìš° ì˜ ë˜ì–´ ìˆìŒ.
MySQL,      âœ… ì™„ë²½,    mysql,Oracle MySQL ë²„ì „ ê¸°ì¤€.
PostgreSQL, âœ… ì™„ë²½,    postgresql,ë§¤ìš° ìƒì„¸í•˜ê²Œ êµ¬í˜„ë˜ì–´ ìˆìŒ.
Tibero,     âš ï¸ ëŒ€ì²´,    plsql (Oracle),í‹°ë² ë¡œëŠ” ì˜¤ë¼í´ í˜¸í™˜ì„±ì´ ëª©í‘œì¸ DBë¼ plsql ë¬¸ë²•ì„ ì“°ë©´ 95% ì´ìƒ íŒŒì‹±ë©ë‹ˆë‹¤.
Sybase ASE, âš ï¸ ëŒ€ì²´,    tsql (MSSQL),Sybaseì™€ MSSQLì€ ë¿Œë¦¬ê°€ ê°™ìŠµë‹ˆë‹¤. tsql ë¬¸ë²•ì„ ì“°ë©´ ëŒ€ë¶€ë¶„ í˜¸í™˜ë©ë‹ˆë‹¤.
Vertica,    âš ï¸ ëŒ€ì²´,    postgresql,VerticaëŠ” í¬ìŠ¤íŠ¸ê·¸ë ˆ ê¸°ë°˜ì…ë‹ˆë‹¤. postgresql ë¬¸ë²•ì„ ìˆ˜ì •í•´ì„œ ì¨ì•¼ í•©ë‹ˆë‹¤.
Sybase IQ,  âŒ ì—†ìŒ,    tsql + ìˆ˜ì •,ASEì™€ ë‹¬ë¦¬ ë¶„ì„í˜•ì´ë¼ ë¬¸ë²•ì´ ì¡°ê¸ˆ ë‹¤ë¦…ë‹ˆë‹¤. tsqlì„ ê¸°ë°˜ìœ¼ë¡œ ìˆ˜ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.
DB2,        âŒ ì—†ìŒ,    (ì§ì ‘ êµ¬í˜„),ì˜ì™¸ë¡œ ê³µê°œëœ ì™„ë²½í•œ ANTLR4 ë¬¸ë²•ì´ ì—†ìŠµë‹ˆë‹¤. (ë¶€ë¶„ì ì¸ ìë£Œë§Œ ì¡´ì¬)
Altibase,   âŒ ì—†ìŒ,    (ì§ì ‘ êµ¬í˜„),êµ­ì‚° DBë¼ í•´ì™¸ ë¦¬í¬ì§€í† ë¦¬ì— ì—†ìŠµë‹ˆë‹¤. í‘œì¤€ SQL ë¬¸ë²•ì„ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.


# Oracle Grammer íŒŒì¼ ìƒì„± 

java -jar H:\Source\GithubDesktop\antlr4_test\Grammer\antlr-4.13.2-complete.jar -Dlanguage=Cpp -package antlrcpptest -no-listener -visitor -o oracle_gen PlSqlLexer.g4
java -jar H:\Source\GithubDesktop\antlr4_test\Grammer\antlr-4.13.2-complete.jar -Dlanguage=Cpp -package antlrcpptest -no-listener -visitor -o oracle_gen PlSqlParser.g4


# SQL Server Grammer íŒŒì¼ ìƒì„± 

java -jar H:\Source\GithubDesktop\antlr4_test\Grammer\antlr-4.13.2-complete.jar -Dlanguage=Cpp -package antlrcpptest -no-listener -visitor -o sqlserver_gen TSqlLexer.g4
java -jar H:\Source\GithubDesktop\antlr4_test\Grammer\antlr-4.13.2-complete.jar -Dlanguage=Cpp -package antlrcpptest -no-listener -visitor -o sqlserver_gen TSqlParser.g4



# MySQL Grammer íŒŒì¼ ìƒì„± 

java -jar H:\Source\GithubDesktop\antlr4_test\Grammer\antlr-4.13.2-complete.jar -Dlanguage=Cpp -package antlrcpptest -no-listener -visitor -o mysql_gen MySQLLexer.g4
java -jar H:\Source\GithubDesktop\antlr4_test\Grammer\antlr-4.13.2-complete.jar -Dlanguage=Cpp -package antlrcpptest -no-listener -visitor -o mysql_gen MySQLParser.g4


# PostgreSQL  Grammer íŒŒì¼ ìƒì„± 

java -jar H:\Source\GithubDesktop\antlr4_test\Grammer\antlr-4.13.2-complete.jar -Dlanguage=Cpp -package antlrcpptest -no-listener -visitor -o postgres_gen PostgreSQLLexer.g4
java -jar H:\Source\GithubDesktop\antlr4_test\Grammer\antlr-4.13.2-complete.jar -Dlanguage=Cpp -package antlrcpptest -no-listener -visitor -o postgres_gen PostgreSQLParser.g4


